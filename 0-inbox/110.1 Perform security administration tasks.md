_Weight: 3_

https://linux1st.com/1101-perform-security-administration-tasks.html

pt1. https://www.youtube.com/watch?v=rNxitwVtRvo

### Users

### `sudo` vs `su`

- `su` - substitute user identity
- `su -` (with dash) - simulates the full login

- `sudo` - execute a command as another user
- `sudo -u anotheruser <command>`

very common
- `sudo su -` (with dash) will make me root with providing my password

`/etc/sudoers` (Mac example)

- ! never edit the file manually, there is command for it - `visudo`

```
...
##
# Cmnd alias specification
##
# Cmnd_Alias    PAGERS = /usr/bin/more, /usr/bin/pg, /usr/bin/less

##
# User specification
##

# root and users in group wheel can run anything on any machine as any user
root            ALL = (ALL) ALL
%admin          ALL = (ALL) ALL

## Read drop-in files from /private/etc/sudoers.d
## (the '#' here does not indicate a comment)
#includedir /private/etc/sudoers.d
```

`visudo` - edit the sudoers file

- loads the file into vi and on exit checks the validity

### Checking user

- `w` - display who is logged in and what they are doing
- `who` - display who is on the system
- `last` - indicate last logins of users and ttys


```
milan ~  $ w
20:05  up 1 day, 10:56, 3 users, load averages: 2.38 2.69 3.20
USER     TTY      FROM              LOGIN@  IDLE WHAT
milan    console  -                Wed09   34:55 -
milan    s000     -                Wed10      38 -/bin/zsh         ��    /bin/zsh
milan    s001     -                19:27       - w
milan ~  $ who
milan            console      Jun 11 09:09
milan            ttys000      Jun 11 10:59
milan            ttys001      Jun 12 19:27
```

```
milan ~  $ last
milan     ttys001                   Thu Jun 12 19:27   still logged in
milan     ttys000                   Wed Jun 11 10:59   still logged in
milan     console                   Wed Jun 11 09:09   still logged in
reboot    ~                         Wed Jun 11 09:09
shutdown  ~                         Wed Jun 11 09:08
milan     ttys003                   Tue Jun 10 20:03 - 20:03  (00:00)
milan     ttys003                   Sun Jun  8 20:10 - 20:10  (00:00)
```

### Password managers

- `passwd` - modify a user's password
- `chage -l milan`

